<div class="userListContent">
  <h1><i class="fas fa-users"></i> USER LIST</h1>
  <hr>
  <div class="tableContainer example-container mat-elevation-z8" >
  <mat-form-field class="filterInput">
    <mat-label>Filter Product</mat-label>
    <input matInput type="text" [(ngModel)]="filterValue" (blur)="filterProduct(filterValue)" placeholder="Search product name">
  </mat-form-field>
  <button class="addButton" mat-raised-button color="primary" (click)="addRegister()"><i class="far fa-plus-square"></i> Add new user</button>
  <div class="spinner-container" *ngIf="dataSource.loading$ | async">
    <mat-spinner></mat-spinner>
  </div>
          <mat-table #table [dataSource]="dataSource" matSort>
            <!-- Second Column -->
            <ng-container matColumnDef="name">
              <mat-header-cell *matHeaderCellDef mat-sort-header> Name </mat-header-cell>
              <mat-cell *matCellDef="let element"> {{element.name}} </mat-cell>
            </ng-container>

            <!-- Third Column -->
            <ng-container matColumnDef="surname1">
              <mat-header-cell *matHeaderCellDef mat-sort-header> First Surname </mat-header-cell>
              <mat-cell *matCellDef="let element">{{element.surname1}}</mat-cell>
            </ng-container>
            <ng-container matColumnDef="surname2">
              <mat-header-cell *matHeaderCellDef mat-sort-header> Second Surname </mat-header-cell>
              <mat-cell *matCellDef="let element">{{element.surname2}}</mat-cell>
            </ng-container>
            <!-- Fourth Column -->
            <ng-container matColumnDef="username">
              <mat-header-cell *matHeaderCellDef mat-sort-header> Username </mat-header-cell>
              <mat-cell *matCellDef="let element">
                <div class="form-group">
                  <a target="_blank"
                    (click)="onNavigate(element.username)" href="/eShop/User/{{element.id}}">{{element.username}}</a>
                </div>
              </mat-cell>
            </ng-container>
            <ng-container matColumnDef="email">
              <mat-header-cell *matHeaderCellDef mat-sort-header> Email </mat-header-cell>
              <mat-cell *matCellDef="let element">{{element.email}}</mat-cell>
            </ng-container>
            <ng-container matColumnDef="user_type_id">
              <mat-header-cell *matHeaderCellDef mat-sort-header> Type </mat-header-cell>
              <mat-cell *matCellDef="let element">{{element.user_type.description}}</mat-cell>
            </ng-container>
            <!-- Action Column -->
            <ng-container matColumnDef="actions">
              <mat-header-cell *matHeaderCellDef> Actions </mat-header-cell>
              <mat-cell *matCellDef="let element">
                <button mat-icon-button matTooltip="Click to Edit" class="iconbutton" color="primary" (click)="goEdit()"><mat-icon>edit</mat-icon></button>
                <button mat-icon-button matTooltip="Click to Delete" class="iconbutton" (click)="goDelete()" color="warn"><mat-icon>delete</mat-icon></button>
              </mat-cell>
            </ng-container>

            <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
            <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
          </mat-table>

          <mat-paginator [pageSizeOptions]="[10, 20, 50]" showFirstLastButtons></mat-paginator>

        </div>
  </div>
